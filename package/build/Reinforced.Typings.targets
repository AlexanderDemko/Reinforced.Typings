<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
	<PropertyGroup>
		<BuildDependsOn>
			$(BuildDependsOn);ReinforcedTypingsGenerate;
		</BuildDependsOn>  			
		<RtToolPath>$(MSBuildThisFileDirectory)\rtcli.exe</RtToolPath>		
	</PropertyGroup>
	<UsingTask TaskName="Reinforced.Typings.Integrate.RtCli" AssemblyFile="Reinforced.Typings.Integrate.dll" />
	<Target Name="ReinforcedTypingsGenerate" DependsOnTargets="CopyFilesToOutputDirectory" Condition="'$(BuildingProject)' != 'false'">
		<RtCli 
			TargetFilePath="$(ReinforcedTypingsTargetFile)" 
			AdditionalDlls="@(AdditionalDlls)" 
			ProjectTargetPath="$(TargetPath)"		
			RtCliPath="$(RtToolPath)"
		/>
		<MSBuild Projects="$(MSBuildProjectFullPath)" Properties="INeedThis=JustToRebuildTypescripts;BuildingProject=true" Targets="CompileTypeScript" Condition="'$(TypeScriptTarget)' != ''" />
	</Target>
</Project>